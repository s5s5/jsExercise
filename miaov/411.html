<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>cookie</title>
	<style>
		#div1{position:absolute; width:100px; height:100px; background-color:red;}
	</style>
	<script>
		window.onload = function() {
			var oDate = new Date();
			oDate.setDate(oDate.getDate() + 30);
			console.log(oDate.getFullYear() + '-' + (oDate.getMonth() + 1) + '-' + oDate.getDate());

			document.cookie = 'user = s5s5; expires=' + oDate;
			document.cookie = 'pass = 132';
			console.log(document.cookie);

			function setCookie(name, value, iDay) {
				var oData = new Date();
				oData.setDate(oData.getDate() + iDay);
				document.cookie = name + '=' + value + '; expires=' + oData;
			}

			function getCookie(name) {
				var arr = document.cookie.split('; ');
				var i = 0;
				for (i = 0; i < arr.length; i++) {
					var arr2 = arr[i].split('=');
					if (arr2[0] == name) {
						return arr2[1];
					}
				}
				return '';
			}

			function removeCookie(name) {
				setCookie(name, '1', -1);
			}

			console.log(getCookie('user'));
			console.log(getCookie('pass'));
			removeCookie('user');
			console.log(getCookie('user'));

			var oDiv = document.getElementById('div1');
			var disX = 0;
			var disY = 0;
			var x = getCookie('x');
			var y = getCookie('y');
			if (x) {
				oDiv.style.left = x + 'px';
				oDiv.style.top = y + 'px';
			}
			oDiv.onmousedown = function(ev) {
				var oEvent = ev || event;
				disX = oEvent.clientX - oDiv.offsetLeft;
				disY = oEvent.clientY - oDiv.offsetTop;
				oDiv.onmousemove = function(ev) {
					var oEvent = ev || event;
					var l = oEvent.clientX - disX;
					var t = oEvent.clientY - disY;
					if (l < 0) {
						l = 0;
					}
					else if (l > document.documentElement.clientWidth - oDiv.offsetWidth) {
						l = document.documentElement.clientWidth - oDiv.offsetWidth;
					}
					if (t < 0) {
						t = 0;
					}
					else if (t > document.documentElement.clientHeight - oDiv.offsetHeight) {
						t = document.documentElement.clientHeight - oDiv.offsetHeight;
					}
					oDiv.style.left = l + 'px';
					oDiv.style.top = t + 'px';
				};
				oDiv.onmouseup = function() {
					oDiv.onmousemove = null;
					oDiv.onmouseup = null;
					setCookie('x', oDiv.offsetLeft, 1);
					setCookie('y', oDiv.offsetTop, 1);
				};
				return false;
			};

			var oForm = document.getElementById('form1');
			var oUser = document.getElementsByName('users')[0];
			var oBtnClear = document.getElementsByTagName('button')[0];
			oForm.onsubmit = function() {
				setCookie('users', oUser.value, 1);
			};
			oUser.value = getCookie('users');
			oBtnClear.onclick = function() {
				removeCookie('users');
				oUser.value = '';
			};
		};
	</script>
</head>
<body>
<form id="form1" action="http://s5s5.me/">
	用户名：<input type="text" name="users">
	密码：<input type="password" name="passs">
	<input type="submit" value="登录">
	<button type="button">清除记录</button>
</form>
<div id="div1"></div>
</body>
</html>